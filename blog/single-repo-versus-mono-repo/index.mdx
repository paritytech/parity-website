---
title: index
tags:
- Polkadot
- Parity Substrate
author: Joyce Siqueira
blogTitle: "One Repo to Rule Them All: A Data-Driven Look at Polkadot's Monorepo"
slug: one-repo-to-rule-them-all
date_published: 2024-01-30T23:00:00Z
image: "/images/monorepo/one-repo.png"

---
Ah, January‚Ä¶ that magical time of year when suddenly everyone turns into a philosopher, gazing deeply into the past and future. Naturally, we at Parity couldn't resist joining the trend.

Since moving all code to the monorepo back in August 2023, we felt that it boosted our productivity. Just to be sure, we decided to back up our intuition with some data and would like to introduce our Polkadot SDK repository data analysis made with the help of everyone in the Parity Data Team (real hot data shit üî•).

<img width="100%" height="100%" src="/images/monorepo/gif.gif" alt="99% of that was a waste of time gif" />
<br/>

For context, we have moved the development from our 3 repositories [Substrate](https://github.com/paritytech/substrate), [Cumulus](https://github.com/paritytech/cumulus) and [Polkadot](https://github.com/paritytech/polkadot) and consolidated it into the [Polkadot SDK](https://github.com/paritytech/polkadot-sdk/), which we refer to as the monorepo.

Reflecting on the past six months, it was evident that the three individual repositories demanded a considerably longer review period. Notably, Substrate PRs felt the pinch the most with an average open-to-merge duration <b>stretching up to 13 days</b>, and on average it wouldn‚Äôt be under eight days! 

Looking at the graph, it's clear that our initial average pull request merge times in August were a bit elongated. But let‚Äôs consider the effect of vacation at this time of year üå¥ plus the time to adapt to a new codebase and new processes. The Polkadot SDK monorepo shows that focusing on one thing helps reduce open-to-merge by 25% every month consistently, proving enhancements in development velocity and efficiency. 

![Github: Avg Time Open to Merged](/images/monorepo/image6.png)

Not only have we become faster, 25% of our issues are closed within a single day, which is 5% more than before when we were all spread out working in different repos.

![Github: Single/Mono Repo Issues Close Time - Single Repos and Polkadot SDK](/images/monorepo/image1.png)

Getting rid of the companion system and having all related changes in one Pull Request makes it not only easier for you to submit code, but also for us to review them. This will save you and us a lot of time that can be devoted to what really matters: coding ü§†

<img width="100%" height="100%" src="/images/monorepo/gif1.gif" alt="Typing gif" />
<br />

![Github: Single/Mono Repo Commits Daily and Weekly](/images/monorepo/image5.png)

When it comes to companion PRs themselves, the number would always vary but some months had almost 30 companion PRs to review. This also justifies the extended time that the team would need in order to review those PRs.

A significant yet potentially misleading indicator is the number of merged Pull Requests. We demonstrated enhanced efficiency in merging Pull Requests when the repos were distinct from one another. The contributions were dispersed, but during some fruitful months we managed to merge more than 280 Pull Requests monthly. However, does the sheer volume of Pull Requests genuinely reflect our working efficiency? üßê Feel free to form your own opinion on this. For now, here‚Äôs the data:

![Github: Merged Pull Requests](/images/monorepo/image2.png)

What I‚Äôve learned from reading this data is that even if we are now merging fewer Pull Requests, we‚Äôre in fact solving more problems than before. 

![Github: Issues Opened/Closed and Percentage Closed](/images/monorepo/image3.png)

If you look into the last diagram we successfully solved on average between 50-55% of all issues opened throughout the last period. Before, we only solved between 39% and 48% of the opened issues per month. This number would only come close to our lucky 55% in one month (which was in this case May).

Since moving to the monorepo, our community has come closer together. When in the past everyone would work in their own silo, looking specifically into the code they knew, today we bring all contributors together and this (hopefully) brings new synergy, exchange of information within the community and growth for Polkadot.

![Github: Single/ Mono Unique Contributors Weekly and Monthly](/images/monorepo/image4.png)

<img width="100%" height="100%" src="/images/monorepo/gif2.gif" alt="That's it gif" />
<br />

And with that being said, this is also all what we‚Äôve got for today. Shout out to Marek Hakala and William Stevenson for providing the sexy dashboards. We hope you enjoyed it and we‚Äôre looking forward to giving you many more juicy insights about Polkadot and its development.

Stay tuned for more! ‚úåÔ∏è

<small>This blog post was cowritten with Karim Jedda, Senior Tech Lead at Parity Technologies.</small>